// <auto-generated />
using System;
using MarketList.Infrastructure.Data;
using Microsoft.EntityFrameworkCore;
using Microsoft.EntityFrameworkCore.Infrastructure;
using Microsoft.EntityFrameworkCore.Migrations;
using Microsoft.EntityFrameworkCore.Storage.ValueConversion;

#nullable disable

namespace MarketList.Infrastructure.Migrations
{
    [DbContext(typeof(AppDbContext))]
    [Migration("20260210001603_InitialCreate")]
    partial class InitialCreate
    {
        /// <inheritdoc />
        protected override void BuildTargetModel(ModelBuilder modelBuilder)
        {
#pragma warning disable 612, 618
            modelBuilder.HasAnnotation("ProductVersion", "9.0.4");

            modelBuilder.Entity("MarketList.Domain.Entities.Categoria", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT")
                        .HasColumnName("id");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("TEXT")
                        .HasColumnName("created_at");

                    b.Property<string>("Descricao")
                        .HasMaxLength(500)
                        .HasColumnType("TEXT")
                        .HasColumnName("descricao");

                    b.Property<string>("Nome")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("TEXT")
                        .HasColumnName("nome");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("TEXT")
                        .HasColumnName("updated_at");

                    b.HasKey("Id");

                    b.HasIndex("Nome")
                        .IsUnique();

                    b.ToTable("categorias", (string)null);
                });

            modelBuilder.Entity("MarketList.Domain.Entities.Empresa", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT")
                        .HasColumnName("id");

                    b.Property<string>("Cnpj")
                        .HasMaxLength(18)
                        .HasColumnType("TEXT")
                        .HasColumnName("cnpj");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("TEXT")
                        .HasColumnName("created_at");

                    b.Property<string>("Nome")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("TEXT")
                        .HasColumnName("nome");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("TEXT")
                        .HasColumnName("updated_at");

                    b.HasKey("Id");

                    b.HasIndex("Cnpj");

                    b.HasIndex("Nome");

                    b.ToTable("empresas", (string)null);
                });

            modelBuilder.Entity("MarketList.Domain.Entities.HistoricoPreco", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT")
                        .HasColumnName("id");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("TEXT")
                        .HasColumnName("created_at");

                    b.Property<DateTime>("DataConsulta")
                        .HasColumnType("TEXT")
                        .HasColumnName("data_consulta");

                    b.Property<Guid?>("EmpresaId")
                        .HasColumnType("TEXT")
                        .HasColumnName("empresa_id");

                    b.Property<string>("FontePreco")
                        .HasMaxLength(100)
                        .HasColumnType("TEXT")
                        .HasColumnName("fonte_preco");

                    b.Property<decimal>("PrecoUnitario")
                        .HasPrecision(18, 2)
                        .HasColumnType("TEXT")
                        .HasColumnName("preco_unitario");

                    b.Property<Guid>("ProdutoId")
                        .HasColumnType("TEXT")
                        .HasColumnName("produto_id");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("TEXT")
                        .HasColumnName("updated_at");

                    b.HasKey("Id");

                    b.HasIndex("EmpresaId");

                    b.HasIndex("ProdutoId", "DataConsulta");

                    b.ToTable("historico_precos", (string)null);
                });

            modelBuilder.Entity("MarketList.Domain.Entities.ItemListaDeCompras", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT")
                        .HasColumnName("id");

                    b.Property<bool>("Comprado")
                        .HasColumnType("INTEGER")
                        .HasColumnName("comprado");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("TEXT")
                        .HasColumnName("created_at");

                    b.Property<Guid>("ListaDeComprasId")
                        .HasColumnType("TEXT")
                        .HasColumnName("lista_de_compras_id");

                    b.Property<decimal?>("PrecoTotal")
                        .HasPrecision(18, 2)
                        .HasColumnType("TEXT")
                        .HasColumnName("preco_total");

                    b.Property<decimal?>("PrecoUnitario")
                        .HasPrecision(18, 2)
                        .HasColumnType("TEXT")
                        .HasColumnName("preco_unitario");

                    b.Property<Guid>("ProdutoId")
                        .HasColumnType("TEXT")
                        .HasColumnName("produto_id");

                    b.Property<decimal>("Quantidade")
                        .HasPrecision(18, 3)
                        .HasColumnType("TEXT")
                        .HasColumnName("quantidade");

                    b.Property<string>("TextoOriginal")
                        .HasMaxLength(500)
                        .HasColumnType("TEXT")
                        .HasColumnName("texto_original");

                    b.Property<int?>("UnidadeDeMedida")
                        .HasColumnType("INTEGER")
                        .HasColumnName("unidade_de_medida");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("TEXT")
                        .HasColumnName("updated_at");

                    b.HasKey("Id");

                    b.HasIndex("ListaDeComprasId");

                    b.HasIndex("ProdutoId");

                    b.ToTable("itens_lista_de_compras", (string)null);
                });

            modelBuilder.Entity("MarketList.Domain.Entities.ListaDeCompras", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT")
                        .HasColumnName("id");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("TEXT")
                        .HasColumnName("created_at");

                    b.Property<Guid?>("EmpresaId")
                        .HasColumnType("TEXT")
                        .HasColumnName("empresa_id");

                    b.Property<string>("ErroProcessamento")
                        .HasMaxLength(2000)
                        .HasColumnType("TEXT")
                        .HasColumnName("erro_processamento");

                    b.Property<string>("Nome")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("TEXT")
                        .HasColumnName("nome");

                    b.Property<DateTime?>("ProcessadoEm")
                        .HasColumnType("TEXT")
                        .HasColumnName("processado_em");

                    b.Property<int>("Status")
                        .HasColumnType("INTEGER")
                        .HasColumnName("status");

                    b.Property<string>("TextoOriginal")
                        .HasColumnType("TEXT")
                        .HasColumnName("texto_original");

                    b.Property<int>("TipoEntrada")
                        .HasColumnType("INTEGER")
                        .HasColumnName("tipo_entrada");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("TEXT")
                        .HasColumnName("updated_at");

                    b.HasKey("Id");

                    b.HasIndex("CreatedAt");

                    b.HasIndex("EmpresaId");

                    b.HasIndex("Status");

                    b.ToTable("listas_de_compras", (string)null);
                });

            modelBuilder.Entity("MarketList.Domain.Entities.Produto", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT")
                        .HasColumnName("id");

                    b.Property<Guid>("CategoriaId")
                        .HasColumnType("TEXT")
                        .HasColumnName("categoria_id");

                    b.Property<bool>("CategoriaPrecisaRevisao")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER")
                        .HasDefaultValue(false)
                        .HasColumnName("categoria_precisa_revisao");

                    b.Property<string>("CodigoLoja")
                        .HasMaxLength(50)
                        .HasColumnType("TEXT")
                        .HasColumnName("codigo_loja");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("TEXT")
                        .HasColumnName("created_at");

                    b.Property<string>("Descricao")
                        .HasMaxLength(500)
                        .HasColumnType("TEXT")
                        .HasColumnName("descricao");

                    b.Property<string>("Nome")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("TEXT")
                        .HasColumnName("nome");

                    b.Property<string>("NomeNormalizado")
                        .HasMaxLength(200)
                        .HasColumnType("TEXT")
                        .HasColumnName("nome_normalizado");

                    b.Property<bool>("PrecisaRevisao")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER")
                        .HasDefaultValue(false)
                        .HasColumnName("precisa_revisao");

                    b.Property<string>("Unidade")
                        .HasMaxLength(20)
                        .HasColumnType("TEXT")
                        .HasColumnName("unidade");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("TEXT")
                        .HasColumnName("updated_at");

                    b.HasKey("Id");

                    b.HasIndex("CategoriaId");

                    b.HasIndex("CodigoLoja");

                    b.HasIndex("Nome");

                    b.HasIndex("NomeNormalizado");

                    b.ToTable("produtos", (string)null);
                });

            modelBuilder.Entity("MarketList.Domain.Entities.RegraClassificacaoCategoria", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT")
                        .HasColumnName("id");

                    b.Property<Guid>("CategoriaId")
                        .HasColumnType("TEXT")
                        .HasColumnName("categoria_id");

                    b.Property<int>("ContagemUsos")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER")
                        .HasDefaultValue(0)
                        .HasColumnName("contagem_usos");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("TEXT")
                        .HasColumnName("created_at");

                    b.Property<int>("Prioridade")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("INTEGER")
                        .HasDefaultValue(0)
                        .HasColumnName("prioridade");

                    b.Property<string>("TermoNormalizado")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("TEXT")
                        .HasColumnName("termo_normalizado");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("TEXT")
                        .HasColumnName("updated_at");

                    b.HasKey("Id");

                    b.HasIndex("CategoriaId");

                    b.HasIndex("TermoNormalizado")
                        .IsUnique();

                    b.ToTable("regras_classificacao_categoria", (string)null);
                });

            modelBuilder.Entity("MarketList.Domain.Entities.SinonimoProduto", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("TEXT")
                        .HasColumnName("id");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("TEXT")
                        .HasColumnName("created_at");

                    b.Property<string>("FonteOrigem")
                        .HasMaxLength(50)
                        .HasColumnType("TEXT")
                        .HasColumnName("fonte_origem");

                    b.Property<Guid>("ProdutoId")
                        .HasColumnType("TEXT")
                        .HasColumnName("produto_id");

                    b.Property<string>("TextoNormalizado")
                        .IsRequired()
                        .HasMaxLength(300)
                        .HasColumnType("TEXT")
                        .HasColumnName("texto_normalizado");

                    b.Property<string>("TextoOriginal")
                        .IsRequired()
                        .HasMaxLength(300)
                        .HasColumnType("TEXT")
                        .HasColumnName("texto_original");

                    b.Property<DateTime?>("UpdatedAt")
                        .HasColumnType("TEXT")
                        .HasColumnName("updated_at");

                    b.HasKey("Id");

                    b.HasIndex("ProdutoId");

                    b.HasIndex("TextoNormalizado");

                    b.ToTable("sinonimos_produto", (string)null);
                });

            modelBuilder.Entity("MarketList.Domain.Entities.HistoricoPreco", b =>
                {
                    b.HasOne("MarketList.Domain.Entities.Empresa", "Empresa")
                        .WithMany("HistoricoPrecos")
                        .HasForeignKey("EmpresaId")
                        .OnDelete(DeleteBehavior.SetNull);

                    b.HasOne("MarketList.Domain.Entities.Produto", "Produto")
                        .WithMany("HistoricoPrecos")
                        .HasForeignKey("ProdutoId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Empresa");

                    b.Navigation("Produto");
                });

            modelBuilder.Entity("MarketList.Domain.Entities.ItemListaDeCompras", b =>
                {
                    b.HasOne("MarketList.Domain.Entities.ListaDeCompras", "ListaDeCompras")
                        .WithMany("Itens")
                        .HasForeignKey("ListaDeComprasId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("MarketList.Domain.Entities.Produto", "Produto")
                        .WithMany("ItensLista")
                        .HasForeignKey("ProdutoId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("ListaDeCompras");

                    b.Navigation("Produto");
                });

            modelBuilder.Entity("MarketList.Domain.Entities.ListaDeCompras", b =>
                {
                    b.HasOne("MarketList.Domain.Entities.Empresa", "Empresa")
                        .WithMany("Listas")
                        .HasForeignKey("EmpresaId")
                        .OnDelete(DeleteBehavior.SetNull);

                    b.Navigation("Empresa");
                });

            modelBuilder.Entity("MarketList.Domain.Entities.Produto", b =>
                {
                    b.HasOne("MarketList.Domain.Entities.Categoria", "Categoria")
                        .WithMany("Produtos")
                        .HasForeignKey("CategoriaId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.Navigation("Categoria");
                });

            modelBuilder.Entity("MarketList.Domain.Entities.RegraClassificacaoCategoria", b =>
                {
                    b.HasOne("MarketList.Domain.Entities.Categoria", "Categoria")
                        .WithMany()
                        .HasForeignKey("CategoriaId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Categoria");
                });

            modelBuilder.Entity("MarketList.Domain.Entities.SinonimoProduto", b =>
                {
                    b.HasOne("MarketList.Domain.Entities.Produto", "Produto")
                        .WithMany("Sinonimos")
                        .HasForeignKey("ProdutoId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Produto");
                });

            modelBuilder.Entity("MarketList.Domain.Entities.Categoria", b =>
                {
                    b.Navigation("Produtos");
                });

            modelBuilder.Entity("MarketList.Domain.Entities.Empresa", b =>
                {
                    b.Navigation("HistoricoPrecos");

                    b.Navigation("Listas");
                });

            modelBuilder.Entity("MarketList.Domain.Entities.ListaDeCompras", b =>
                {
                    b.Navigation("Itens");
                });

            modelBuilder.Entity("MarketList.Domain.Entities.Produto", b =>
                {
                    b.Navigation("HistoricoPrecos");

                    b.Navigation("ItensLista");

                    b.Navigation("Sinonimos");
                });
#pragma warning restore 612, 618
        }
    }
}
